% !Mode:: "TeX:UTF-8:Main"
\input{regression-test}
\RequirePackage[enable-debug,check-declarations]{expl3}
\documentclass{article}



\begin{document}
\ExplSyntaxOn
\START\showoutput
\bitset_new:N  \l_my_test_bitset
\bitset_new:N  \g_my_test_bitset
\bitset_show:N \l_my_test_bitset
\bitset_show:N \g_my_test_bitset

empty\par
bin:~\bitset_to_bin:N \l_my_test_bitset\par
arabic:~\bitset_to_arabic:N \l_my_test_bitset\par
\bitset_index:Nn \l_my_test_bitset {0}\par
\bitset_set_true:Nn \l_my_test_bitset{0}

0:~ \bitset_to_bin:N \l_my_test_bitset\par
\bitset_index:Nn \l_my_test_bitset {0}\par

\bitset_set_true:Nn \l_my_test_bitset{-2}
\bitset_show:N \l_my_test_bitset

\bitset_set_true:Nn   \l_my_test_bitset {2}
\bitset_set_true:Nn   \l_my_test_bitset {4}
\bitset_set_true:Nn   \l_my_test_bitset {6}
\bitset_set_true:Nn   \l_my_test_bitset {8}
\bitset_to_bin:N   \l_my_test_bitset\par
\bitset_to_arabic:N\l_my_test_bitset\par


\bitset_set_true:Nn \l_my_test_bitset{3}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

\bitset_set_false:Nn \l_my_test_bitset{3}
\bitset_show:N   \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

40\par
\bitset_set_true:Nn   \l_my_test_bitset {40}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_index:Nn \l_my_test_bitset {41},~
\bitset_index:Nn \l_my_test_bitset {40},~
\bitset_index:Nn \l_my_test_bitset {39}\par

\bitset_set_false:Nn \l_my_test_bitset {40}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par


39\par
\bitset_set_true:Nn   \l_my_test_bitset {39}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {39}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

20\par
\bitset_set_true:Nn   \l_my_test_bitset {20}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {20}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

3\par
\bitset_set_true:Nn   \l_my_test_bitset {3}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {3}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

0\par
\bitset_set_true:Nn   \l_my_test_bitset {0}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_index:Nn \l_my_test_bitset {-1},~
\bitset_index:Nn \l_my_test_bitset {0},~
\bitset_index:Nn \l_my_test_bitset {1}\par

\bitset_set_false:Nn \l_my_test_bitset {0}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

-1\par
\bitset_set_true:Nn   \l_my_test_bitset {-1}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {-1}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

-10\par
\bitset_set_true:Nn   \l_my_test_bitset {-10}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {-10}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par

7\par
\bitset_set_true:Nn   \l_my_test_bitset {7}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {7}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par


1+2+8-4\par
\bitset_set_true:Nn   \l_my_test_bitset {1+2+8-4}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_index:Nn \l_my_test_bitset {1+2+8-4},~
\bitset_index:Nn \l_my_test_bitset {1+2+4},~
\bitset_index:Nn \l_my_test_bitset {1+2+9}\par

\bitset_set_false:Nn \l_my_test_bitset {1+2+4}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par


int max 3,4\par
\bitset_set_true:Nn   \l_my_test_bitset {\int_max:nn{3}{4}}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par
\bitset_set_false:Nn \l_my_test_bitset {\int_max:nn{3}{4}}
\bitset_show:N \l_my_test_bitset
\bitset_to_bin:N \l_my_test_bitset\par



\newpage
global\par


\bitset_gset_true:Nn \g_my_test_bitset{-2}
\bitset_show:N \g_my_test_bitset

\bitset_gset_true:Nn \g_my_test_bitset{3}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset{3}
\bitset_show:N   \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par


40\par
\bitset_gset_true:Nn   \g_my_test_bitset {40}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {40}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

39\par
\bitset_gset_true:Nn   \g_my_test_bitset {39}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {39}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

20\par
\bitset_gset_true:Nn   \g_my_test_bitset {20}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {20}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

3\par
\bitset_gset_true:Nn   \g_my_test_bitset {3}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {3}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

0\par
\bitset_gset_true:Nn   \g_my_test_bitset {0}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {0}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

-1\par
\bitset_gset_true:Nn   \g_my_test_bitset {-1}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {-1}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

-10\par
\bitset_gset_true:Nn   \g_my_test_bitset {-10}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {-10}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par

7\par
\bitset_gset_true:Nn   \g_my_test_bitset {7}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {7}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par


1+2+4\par
\bitset_gset_true:Nn   \g_my_test_bitset {1+2+4}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {1+2+4}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par


int max 3,4\par
\bitset_gset_true:Nn   \g_my_test_bitset {\int_max:nn{3}{4}}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_gset_false:Nn \g_my_test_bitset {\int_max:nn{3}{4}}
\bitset_show:N \g_my_test_bitset
\bitset_to_bin:N \g_my_test_bitset\par


\ExplSyntaxOff

\end{document} 