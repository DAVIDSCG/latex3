% !Mode:: "TeX:UTF-8:Main"
\input{regression-test}
\RequirePackage[enable-debug,check-declarations]{expl3}
\documentclass{article}



\begin{document}
\ExplSyntaxOn
\START\showoutput
\bitset_new:N \l_my_test_bitset
\prop_new:N   \l_my_test_bitset_prop
\prop_set_from_keyval:Nn \l_my_test_bitset_prop
  {
    Invisible      = 0,
    Hidden         = 1,
    Print          = 2,
    NoZoom         = 3,
    NoRotate       = 4,
    NoView         = 5,
    ReadOnly       = 6,
    Locked         = 7,
    ToggleNoView   = 8,
    LockedContents = 9
  }



empty\par
bin:~\bitset_to_bin:N \l_my_test_bitset\par
arabic:~\bitset_to_arabic:N \l_my_test_bitset\par
\bitset_key:Nn \l_my_test_bitset {Invisible}\par
\bitset_set_key:Nn \l_my_test_bitset{Invisible}

0:~ \bitset_to_bin:N \l_my_test_bitset\par
\bitset_key:Nn \l_my_test_bitset {Invisible}\par

\bitset_set_key:Nn \l_my_test_bitset{unknown}
\bitset_show:N \l_my_test_bitset

\bitset_set_key:Nn   \l_my_test_bitset {Print}
\bitset_set_key:Nn   \l_my_test_bitset {NoRotate}
\bitset_set_key:Nn   \l_my_test_bitset {ReadOnly}
\bitset_set_key:Nn   \l_my_test_bitset {ToggleNoView}
\bitset_to_bin:N     \l_my_test_bitset\par
\bitset_to_arabic:N  \l_my_test_bitset\par

\bitset_clear_key:Nn   \l_my_test_bitset {Print}
\bitset_clear_key:Nn   \l_my_test_bitset {NoRotate}
\bitset_clear_key:Nn   \l_my_test_bitset {ReadOnly}
\bitset_clear_key:Nn   \l_my_test_bitset {ToggleNoView}
\bitset_to_bin:N     \l_my_test_bitset\par
\bitset_to_arabic:N  \l_my_test_bitset\par

global\par
\bitset_new:N \g_my_test_bitset
\prop_new:N   \g_my_test_bitset_prop
\prop_gset_from_keyval:Nn \g_my_test_bitset_prop
  {
    gInvisible      = 0,
    gHidden         = 1,
    gPrint          = 2,
    gNoZoom         = 3,
    gNoRotate       = 4,
    gNoView         = 5,
    gReadOnly       = 6,
    gLocked         = 7,
    gToggleNoView   = 8,
    gLockedContents = 9
  }



empty\par
bin:~\bitset_to_bin:N \g_my_test_bitset\par
arabic:~\bitset_to_arabic:N \g_my_test_bitset\par
\bitset_key:Nn \g_my_test_bitset {gInvisible}\par
\bitset_gset_key:Nn \g_my_test_bitset{gInvisible}

0:~
\bitset_to_bin:N \g_my_test_bitset\par
\bitset_key:Nn \g_my_test_bitset {gInvisible}\par

\bitset_gset_key:Nn \g_my_test_bitset{gunknown}\par
unknown \bitset_key:Nn \g_my_test_bitset{gunknown}\par
\bitset_show:N \g_my_test_bitset

\bitset_gset_key:Nn   \g_my_test_bitset {gPrint}

key:~\bitset_key:Nn   \g_my_test_bitset {gPrint}\par
key:~\bitset_key:Nn   \g_my_test_bitset {glocked}\par
\bitset_gset_key:Nn   \g_my_test_bitset {gNoRotate}
\bitset_gset_key:Nn   \g_my_test_bitset {gReadOnly}
\bitset_gset_key:Nn   \g_my_test_bitset {gToggleNoView}
\bitset_to_bin:N     \g_my_test_bitset\par
\bitset_to_arabic:N  \g_my_test_bitset\par

\bitset_gclear_key:Nn   \g_my_test_bitset {gPrint}
\bitset_gclear_key:Nn   \g_my_test_bitset {gNoRotate}
\bitset_gclear_key:Nn   \g_my_test_bitset {gReadOnly}
\bitset_gclear_key:Nn   \g_my_test_bitset {gToggleNoView}
\bitset_to_bin:N     \g_my_test_bitset\par
\bitset_to_arabic:N  \g_my_test_bitset\par



\ExplSyntaxOff

\end{document} 